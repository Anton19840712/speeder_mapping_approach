using Newtonsoft.Json;
using TestFunctions.Mapp.Core.Handlers;
using TestFunctions.Mapp.Core.Models.MappConfig;

namespace TestFunctions;

static class Program
{
	static void Main(string[]? args = null!)
	{
		try
		{
			string inputStruct =
"{\"id\":42,\"name\":\"АлексейИванов\",\"email\":\"alexey@example.com\",\"isVerified\":true,\"subscription\":null,\"balance\":-1234.56,\"metadata\":{\"tags\":[\"user\",\"premium\",\"beta\"],\"preferences\":{\"theme\":\"dark\",\"language\":\"ru-RU\",\"notifications\":{\"email\":true,\"push\":false,\"sms\":null},\"limits\":{\"maxUploads\":100,\"storageGb\":15.5}},\"lastLogin\":\"2025-11-27T14:30:00Z\"},\"addresses\":[{\"type\":\"home\",\"street\":\"ул.Ленина,д.10\",\"city\":\"Москва\",\"country\":\"Россия\",\"coordinates\":{\"lat\":55.7558,\"lng\":37.6176},\"isPrimary\":true},{\"type\":\"work\",\"street\":\"пр.Мира,152\",\"city\":\"Санкт-Петербург\",\"country\":\"Россия\",\"coordinates\":{\"lat\":59.9343,\"lng\":30.3351},\"isPrimary\":false}],\"orders\":[{\"orderId\":\"ORD-20251127-001\",\"items\":[{\"productId\":\"PROD-789\",\"name\":\"НоутбукXYZ\",\"price\":89999.99,\"quantity\":1,\"tags\":[\"electronics\",\"laptop\"],\"specs\":{\"cpu\":\"Inteli7\",\"ram\":\"16GB\",\"os\":\"Windows11\"}},{\"productId\":\"PROD-456\",\"name\":\"Мышьбеспроводная\",\"price\":1499,\"quantity\":2,\"tags\":[\"accessory\"],\"specs\":null}],\"total\":92997.99,\"status\":\"shipped\",\"notes\":\"\"}],\"emptyArray\":[],\"emptyObject\":{},\"nullableField\":null,\"unicodeTest\":\"𝄞🪐こんにちはПривет!123🇷🇺🇺🇸\",\"scientificNotation\":0.000123,\"largeInteger\":9007199254740991,\"negativeZero\":0,\"booleanArray\":[true,false,true]}"
;

            string outStruct =
"{\"identifier\":null,\"title\":null,\"contact\":null,\"isActive\":null,\"optionalValue\":null,\"amount\":null,\"details\":{\"labels\":[],\"config\":{\"mode\":null,\"locale\":null,\"alerts\":{\"email\":null,\"mobile\":null,\"desktop\":null},\"quotas\":{\"maxItems\":null,\"volumeGb\":null}},\"lastUpdate\":null,\"specialText\":null},\"locations\":[{\"category\":null,\"addressLine\":null,\"town\":null,\"region\":null,\"geo\":{\"latitude\":null,\"longitude\":null},\"isDefault\":null}],\"records\":[{\"recordId\":null,\"entries\":[{\"entryId\":null,\"label\":null,\"cost\":null,\"count\":null,\"flags\":[],\"attributes\":{\"processor\":null,\"memory\":null,\"system\":null}}],\"sum\":null,\"state\":null,\"memo\":null}],\"emptyList\":[],\"emptyMap\":{},\"nullableProperty\":null,\"textSample\":null,\"exponent\":null,\"bigId\":null,\"signedZero\":null,\"flags\":[]}"
;

			string mappConfig =
"{\"Dependencies\":[{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"id\",\"TokenType\":6,\"Index\":1}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"identifier\",\"TokenType\":6,\"Index\":1}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"name\",\"TokenType\":8,\"Index\":1}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"title\",\"TokenType\":8,\"Index\":1}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"email\",\"TokenType\":8,\"Index\":1}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"contact\",\"TokenType\":8,\"Index\":1}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"isVerified\",\"TokenType\":9,\"Index\":1}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"isActive\",\"TokenType\":9,\"Index\":1}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"subscription\",\"TokenType\":8,\"Index\":1}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"optionalValue\",\"TokenType\":8,\"Index\":1}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"balance\",\"TokenType\":7,\"Index\":1}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"amount\",\"TokenType\":7,\"Index\":1}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"metadata\",\"TokenType\":1,\"Index\":1},{\"Key\":\"tags\",\"TokenType\":2,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"details\",\"TokenType\":1,\"Index\":1},{\"Key\":\"labels\",\"TokenType\":2,\"Index\":2}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"metadata\",\"TokenType\":1,\"Index\":1},{\"Key\":\"preferences\",\"TokenType\":1,\"Index\":2},{\"Key\":\"theme\",\"TokenType\":8,\"Index\":3}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"details\",\"TokenType\":1,\"Index\":1},{\"Key\":\"config\",\"TokenType\":1,\"Index\":2},{\"Key\":\"mode\",\"TokenType\":8,\"Index\":3}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"metadata\",\"TokenType\":1,\"Index\":1},{\"Key\":\"preferences\",\"TokenType\":1,\"Index\":2},{\"Key\":\"language\",\"TokenType\":8,\"Index\":3}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"details\",\"TokenType\":1,\"Index\":1},{\"Key\":\"config\",\"TokenType\":1,\"Index\":2},{\"Key\":\"locale\",\"TokenType\":8,\"Index\":3}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"metadata\",\"TokenType\":1,\"Index\":1},{\"Key\":\"preferences\",\"TokenType\":1,\"Index\":2},{\"Key\":\"notifications\",\"TokenType\":1,\"Index\":3},{\"Key\":\"email\",\"TokenType\":9,\"Index\":4}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"details\",\"TokenType\":1,\"Index\":1},{\"Key\":\"config\",\"TokenType\":1,\"Index\":2},{\"Key\":\"alerts\",\"TokenType\":1,\"Index\":3},{\"Key\":\"email\",\"TokenType\":9,\"Index\":4}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"metadata\",\"TokenType\":1,\"Index\":1},{\"Key\":\"preferences\",\"TokenType\":1,\"Index\":2},{\"Key\":\"notifications\",\"TokenType\":1,\"Index\":3},{\"Key\":\"push\",\"TokenType\":9,\"Index\":4}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"details\",\"TokenType\":1,\"Index\":1},{\"Key\":\"config\",\"TokenType\":1,\"Index\":2},{\"Key\":\"alerts\",\"TokenType\":1,\"Index\":3},{\"Key\":\"mobile\",\"TokenType\":9,\"Index\":4}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"metadata\",\"TokenType\":1,\"Index\":1},{\"Key\":\"preferences\",\"TokenType\":1,\"Index\":2},{\"Key\":\"notifications\",\"TokenType\":1,\"Index\":3},{\"Key\":\"sms\",\"TokenType\":9,\"Index\":4}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"details\",\"TokenType\":1,\"Index\":1},{\"Key\":\"config\",\"TokenType\":1,\"Index\":2},{\"Key\":\"alerts\",\"TokenType\":1,\"Index\":3},{\"Key\":\"desktop\",\"TokenType\":9,\"Index\":4}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"metadata\",\"TokenType\":1,\"Index\":1},{\"Key\":\"preferences\",\"TokenType\":1,\"Index\":2},{\"Key\":\"limits\",\"TokenType\":1,\"Index\":3},{\"Key\":\"maxUploads\",\"TokenType\":6,\"Index\":4}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"details\",\"TokenType\":1,\"Index\":1},{\"Key\":\"config\",\"TokenType\":1,\"Index\":2},{\"Key\":\"quotas\",\"TokenType\":1,\"Index\":3},{\"Key\":\"maxItems\",\"TokenType\":6,\"Index\":4}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"metadata\",\"TokenType\":1,\"Index\":1},{\"Key\":\"preferences\",\"TokenType\":1,\"Index\":2},{\"Key\":\"limits\",\"TokenType\":1,\"Index\":3},{\"Key\":\"storageGb\",\"TokenType\":7,\"Index\":4}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"details\",\"TokenType\":1,\"Index\":1},{\"Key\":\"config\",\"TokenType\":1,\"Index\":2},{\"Key\":\"quotas\",\"TokenType\":1,\"Index\":3},{\"Key\":\"volumeGb\",\"TokenType\":7,\"Index\":4}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"metadata\",\"TokenType\":1,\"Index\":1},{\"Key\":\"lastLogin\",\"TokenType\":11,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"details\",\"TokenType\":1,\"Index\":1},{\"Key\":\"lastUpdate\",\"TokenType\":11,\"Index\":2}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"addresses\",\"TokenType\":2,\"Index\":1},{\"Key\":\"type\",\"TokenType\":8,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"locations\",\"TokenType\":2,\"Index\":1},{\"Key\":\"category\",\"TokenType\":8,\"Index\":2}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"addresses\",\"TokenType\":2,\"Index\":1},{\"Key\":\"street\",\"TokenType\":8,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"locations\",\"TokenType\":2,\"Index\":1},{\"Key\":\"addressLine\",\"TokenType\":8,\"Index\":2}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"addresses\",\"TokenType\":2,\"Index\":1},{\"Key\":\"city\",\"TokenType\":8,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"locations\",\"TokenType\":2,\"Index\":1},{\"Key\":\"town\",\"TokenType\":8,\"Index\":2}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"addresses\",\"TokenType\":2,\"Index\":1},{\"Key\":\"country\",\"TokenType\":8,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"locations\",\"TokenType\":2,\"Index\":1},{\"Key\":\"region\",\"TokenType\":8,\"Index\":2}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"addresses\",\"TokenType\":2,\"Index\":1},{\"Key\":\"coordinates\",\"TokenType\":1,\"Index\":2},{\"Key\":\"lat\",\"TokenType\":7,\"Index\":3}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"locations\",\"TokenType\":2,\"Index\":1},{\"Key\":\"geo\",\"TokenType\":1,\"Index\":2},{\"Key\":\"latitude\",\"TokenType\":7,\"Index\":3}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"addresses\",\"TokenType\":2,\"Index\":1},{\"Key\":\"coordinates\",\"TokenType\":1,\"Index\":2},{\"Key\":\"lng\",\"TokenType\":7,\"Index\":3}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"locations\",\"TokenType\":2,\"Index\":1},{\"Key\":\"geo\",\"TokenType\":1,\"Index\":2},{\"Key\":\"longitude\",\"TokenType\":7,\"Index\":3}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"addresses\",\"TokenType\":2,\"Index\":1},{\"Key\":\"isPrimary\",\"TokenType\":9,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"locations\",\"TokenType\":2,\"Index\":1},{\"Key\":\"isDefault\",\"TokenType\":9,\"Index\":2}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"orderId\",\"TokenType\":8,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":2},{\"Key\":\"recordId\",\"TokenType\":8,\"Index\":3}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"total\",\"TokenType\":7,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"sum\",\"TokenType\":7,\"Index\":2}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"status\",\"TokenType\":8,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"state\",\"TokenType\":8,\"Index\":2}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"notes\",\"TokenType\":8,\"Index\":2}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"memo\",\"TokenType\":8,\"Index\":2}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"items\",\"TokenType\":2,\"Index\":2},{\"Key\":\"productId\",\"TokenType\":8,\"Index\":3}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"entries\",\"TokenType\":2,\"Index\":2},{\"Key\":\"entryId\",\"TokenType\":8,\"Index\":3}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"items\",\"TokenType\":2,\"Index\":2},{\"Key\":\"name\",\"TokenType\":8,\"Index\":3}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"entries\",\"TokenType\":2,\"Index\":2},{\"Key\":\"label\",\"TokenType\":8,\"Index\":3}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"items\",\"TokenType\":2,\"Index\":2},{\"Key\":\"price\",\"TokenType\":7,\"Index\":3}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"entries\",\"TokenType\":2,\"Index\":2},{\"Key\":\"cost\",\"TokenType\":7,\"Index\":3}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"items\",\"TokenType\":2,\"Index\":2},{\"Key\":\"quantity\",\"TokenType\":6,\"Index\":3}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"entries\",\"TokenType\":2,\"Index\":2},{\"Key\":\"count\",\"TokenType\":6,\"Index\":3}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"items\",\"TokenType\":2,\"Index\":2},{\"Key\":\"tags\",\"TokenType\":2,\"Index\":3}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"entries\",\"TokenType\":2,\"Index\":2},{\"Key\":\"flags\",\"TokenType\":2,\"Index\":3}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"items\",\"TokenType\":2,\"Index\":2},{\"Key\":\"specs\",\"TokenType\":1,\"Index\":3},{\"Key\":\"cpu\",\"TokenType\":8,\"Index\":4}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"entries\",\"TokenType\":2,\"Index\":2},{\"Key\":\"attributes\",\"TokenType\":1,\"Index\":3},{\"Key\":\"processor\",\"TokenType\":8,\"Index\":4}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"items\",\"TokenType\":2,\"Index\":2},{\"Key\":\"specs\",\"TokenType\":1,\"Index\":3},{\"Key\":\"ram\",\"TokenType\":8,\"Index\":4}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"entries\",\"TokenType\":2,\"Index\":2},{\"Key\":\"attributes\",\"TokenType\":1,\"Index\":3},{\"Key\":\"memory\",\"TokenType\":8,\"Index\":4}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"orders\",\"TokenType\":2,\"Index\":1},{\"Key\":\"items\",\"TokenType\":2,\"Index\":2},{\"Key\":\"specs\",\"TokenType\":1,\"Index\":3},{\"Key\":\"os\",\"TokenType\":8,\"Index\":4}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"records\",\"TokenType\":2,\"Index\":1},{\"Key\":\"entries\",\"TokenType\":2,\"Index\":2},{\"Key\":\"attributes\",\"TokenType\":1,\"Index\":3},{\"Key\":\"system\",\"TokenType\":8,\"Index\":4}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"unicodeTest\",\"TokenType\":8,\"Index\":1}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"textSample\",\"TokenType\":8,\"Index\":1}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"scientificNotation\",\"TokenType\":7,\"Index\":1}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"exponent\",\"TokenType\":7,\"Index\":1}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"negativeZero\",\"TokenType\":6,\"Index\":1}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"signedZero\",\"TokenType\":6,\"Index\":1}]},{\"InputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"booleanArray\",\"TokenType\":2,\"Index\":1}],\"OutputPath\":[{\"Key\":\"\",\"TokenType\":1,\"Index\":0},{\"Key\":\"flags\",\"TokenType\":2,\"Index\":1}]}]}"
;
            MappConfig? config = JsonConvert.DeserializeObject<MappConfig>(mappConfig); 

            MappHandler handler = new();
			
			var inputData = handler.ConvertJsonToBPMData(inputStruct);
			var outData = handler.ConvertJsonToBPMData(outStruct);

			Console.WriteLine($"\nInput Struct:\n{JsonConvert.SerializeObject(inputData)}");
			Console.WriteLine($"\nOutput Struct:\n{JsonConvert.SerializeObject(outData)}");


			if (inputData != null && outData != null && config != null)
			{
				var outEnrichedData = handler.MappData(inputData, outData, config);
				if (outEnrichedData != null) 
				{
					string? outEnrichedStruct = handler.ConvertBPMDataToJson(outEnrichedData);
					Console.WriteLine($"\nOutput Data:\n{JsonConvert.SerializeObject(outEnrichedStruct)}");
				}
            }


        }
        catch (Exception ex) 
		{
			Console.WriteLine(ex.Message + " " + ex.StackTrace);
			if (Console.ReadLine() == "r")
				Main();
		}		
	}
}